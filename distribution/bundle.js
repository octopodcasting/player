!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports='<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="play" class="svg-inline--fa fa-play fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"></path></svg>'},function(t,e){t.exports='<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="redo" class="svg-inline--fa fa-redo fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"></path></svg>'},function(t,e){t.exports='<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="podcast" class="svg-inline--fa fa-podcast fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M267.429 488.563C262.286 507.573 242.858 512 224 512c-18.857 0-38.286-4.427-43.428-23.437C172.927 460.134 160 388.898 160 355.75c0-35.156 31.142-43.75 64-43.75s64 8.594 64 43.75c0 32.949-12.871 104.179-20.571 132.813zM156.867 288.554c-18.693-18.308-29.958-44.173-28.784-72.599 2.054-49.724 42.395-89.956 92.124-91.881C274.862 121.958 320 165.807 320 220c0 26.827-11.064 51.116-28.866 68.552-2.675 2.62-2.401 6.986.628 9.187 9.312 6.765 16.46 15.343 21.234 25.363 1.741 3.654 6.497 4.66 9.449 1.891 28.826-27.043 46.553-65.783 45.511-108.565-1.855-76.206-63.595-138.208-139.793-140.369C146.869 73.753 80 139.215 80 220c0 41.361 17.532 78.7 45.55 104.989 2.953 2.771 7.711 1.77 9.453-1.887 4.774-10.021 11.923-18.598 21.235-25.363 3.029-2.2 3.304-6.566.629-9.185zM224 0C100.204 0 0 100.185 0 224c0 89.992 52.602 165.647 125.739 201.408 4.333 2.118 9.267-1.544 8.535-6.31-2.382-15.512-4.342-30.946-5.406-44.339-.146-1.836-1.149-3.486-2.678-4.512-47.4-31.806-78.564-86.016-78.187-147.347.592-96.237 79.29-174.648 175.529-174.899C320.793 47.747 400 126.797 400 224c0 61.932-32.158 116.49-80.65 147.867-.999 14.037-3.069 30.588-5.624 47.23-.732 4.767 4.203 8.429 8.535 6.31C395.227 389.727 448 314.187 448 224 448 100.205 347.815 0 224 0zm0 160c-35.346 0-64 28.654-64 64s28.654 64 64 64 64-28.654 64-64-28.654-64-64-64z"></path></svg>'},function(t,e){t.exports='<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pause" class="svg-inline--fa fa-pause fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"></path></svg>'},function(t,e){t.exports='<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="download" class="svg-inline--fa fa-download fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"></path></svg>'},function(t,e){t.exports='<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="volume-up" class="svg-inline--fa fa-volume-up fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"></path></svg>'},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){var e="function"==typeof Map?new Map:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return p(t,arguments,v(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)})(t)}function p(t,e,n){return(p=h()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&f(o,n.prototype),o}).apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(d,t);var e,n,r,i,a,c=(e=d,n=h(),function(){var t,r=v(e);if(n){var o=v(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return u(this,t)});function d(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),(t=c.call(this)).shadowDom=t.attachShadow({mode:"closed"}),t.resizeObserver=null,t.canvas=null,t.image=null,t.chapterImages=[],t.activeImage=null,t.timestamp=0,t.chapters=null,t.activeChapter=null,t}return r=d,(i=[{key:"connectedCallback",value:function(){var t=this;this.renderShadowDom(),this.imageUrl&&this.imageAttributeChangeCallback(null,this.imageUrl),this.chaptersUrl&&this.chaptersAttributeChangeCallback(null,this.chaptersUrl),this.resizeObserver=new ResizeObserver((function(){return t.renderShadowDom()})),this.resizeObserver.observe(this)}},{key:"attributeChangedCallback",value:function(t,e,n){var r="".concat(t,"AttributeChangeCallback");this[r]&&this[r](e,n)}},{key:"imageAttributeChangeCallback",value:function(t,e){var n=this;this.image=null,this.loadImage(e).then((function(t){n.image=t,n.currentTime=n.timestamp}))}},{key:"chaptersAttributeChangeCallback",value:function(t,e){var n=this;this.chapters=null,this.chapterImages=[],fetch(e).then((function(t){return t.json()})).then((function(t){n.chapters=t.chapters,n.currentTime=n.timestamp}))}},{key:"loadImage",value:function(t){return new Promise((function(e){var n=document.createElement("img");n.addEventListener("load",(function(){e(n)})),n.src=t}))}},{key:"drawImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.activeImage!==t||e){this.activeImage=t;var n=this.getBoundingClientRect(),r=g(n.width,n.height),o=g(t.width,t.height),i=g(0,0),a=s({},r),c=o.x/o.y,l=r.y*c;r.x>=l?(a.x=l,i.x=r.x/2-a.x/2):(a.y=r.x/c,i.y=r.y/2-a.y/2),this.hidePlaceholder(),this.canvasContext.clearRect(0,0,r.x,r.y),this.canvasContext.drawImage(t,0,0,o.x,o.y,i.x,i.y,a.x,a.y)}}},{key:"hidePlaceholder",value:function(){this.shadowDom.querySelector(".placeholder").classList.add("hide")}},{key:"showPlaceholder",value:function(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.shadowDom.querySelector(".placeholder").classList.remove("hide")}},{key:"renderShadowDom",value:function(){var t=this;this.shadowDom.innerHTML='\n      <style type="text/css">\n        :host {\n          position: relative;\n          display: block;\n          overflow: hidden;\n          width: 360px;\n          background: #f1f3f4;\n        }\n\n        .container, .reference {\n          position: relative;\n          width: 100%;\n          height: 100%;\n        }\n\n        .reference {\n          z-index: -1;\n        }\n\n        .placeholder, canvas {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n\n        .placeholder.hide {\n          display: none;\n        }\n\n        .placeholder svg {\n          margin: 25% 28%;\n          color: #000000;\n        }\n      </style>\n      <div class="container">\n        <div class="placeholder">\n          '.concat(o.a,"\n        </div>\n      </div>\n    "),this.canvas||(this.canvas=document.createElement("canvas"),this.canvasContext=this.canvas.getContext("2d"));var e=this.shadowDom.querySelector(".container"),n=this.shadowDom.querySelector(".placeholder"),r=function(e,r){t.canvas.width=e,t.canvas.height=r;var o=Math.min(e,r);n.style.width=0===o?"0":o+"px",n.style.height=0===o?"0":o+"px",n.style.top=null,n.style.left=null,r>e?n.style.top=(r-e)/2+"px":r<e&&(n.style.left=(e-r)/2+"px"),t.activeImage&&t.drawImage(t.activeImage,!0)};r(0,0);var i=+window.getComputedStyle(this).width.replace("px",""),a=+window.getComputedStyle(this).height.replace("px","");0===a&&(a=i,this.style.height=i+"px"),r(i,a),e.appendChild(this.canvas)}},{key:"chaptersUrl",get:function(){return this.getAttribute("chapters")},set:function(t){this.setAttribute("chapters",t)}},{key:"currentTime",set:function(t){var e=this;if(this.timestamp=t,this.chapters){if(this.activeChapter=this.chapters.findIndex((function(t,n){return!e.chapters[n+1]||e.chapters[n+1].startTime>e.timestamp})),this.chapterImages[this.activeChapter])return void this.drawImage(this.chapterImages[this.activeChapter]);var n=this.chapters[this.activeChapter];if(n.img)return this.showPlaceholder(),void this.loadImage(n.img).then((function(t){e.chapterImages[e.activeChapter]=t,e.drawImage(t)}))}this.image&&this.drawImage(this.image)}},{key:"imageUrl",get:function(){return this.getAttribute("image")},set:function(t){this.setAttribute("image",t)}}])&&l(r.prototype,i),a&&l(r,a),d}(d(HTMLElement)),g=function(t,e){return{x:t,y:e}};customElements.define("octopod-cover",m);var b=n(3),y=n.n(b),w=n(0),x=n.n(w);function k(t){var e=Math.floor(t/60/60)||0,n=Math.floor((t-60*e*60)/60)||0,r=t-60*n-60*e*60||0;return e>0?e+":"+(n<10?"0":"")+n+":"+(r<10?"0":"")+Math.trunc(r):n+":"+(r<10?"0":"")+Math.trunc(r)}var C=n(4),O=n.n(C),P=n(1),S=n.n(P),j=n(5),T=n.n(j),E='\n  <div class="timestamps">\n    <div class="timestamp-current">0:00</div>\n    <div class="timestamp-duration">0:00</div>\n  </div>\n  <div class="progress">\n    <div class="progress-bar">\n      <div class="progress-indicator"></div>\n      <div class="progress-played"></div>\n    </div>\n  </div>\n  <div class="buttons">\n    <div class="button speed">\n      <button class="option" data-rate="0.8"><small>0.8x</small></button>\n      <button class="option active" data-rate="1"><small>1x</small></button>\n      <button class="option" data-rate="1.2"><small>1.2x</small></button>\n      <button class="option" data-rate="1.5"><small>1.5x</small></button>\n      <button class="option" data-rate="2"><small>2x</small></button>\n    </div>\n    <div class="button invisible"></div>\n    <div class="control-button-group">\n      <button class="button rewind">'.concat(S.a,'</button>\n      <button class="button play">').concat(x.a,'</button>\n      <button class="button skip">').concat(S.a,'</button>\n    </div>\n    <div class="button volume">\n      <div class="progress">\n        <div class="progress-bar">\n          <div class="progress-indicator"></div>\n          <div class="progress-played"></div>\n        </div>\n      </div>\n      <button class="mute">').concat(T.a,'</button>\n    </div>\n    <a class="button download" target="_blank" download>').concat(O.a,"</a>\n  </div>\n");function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){var e="function"==typeof Map?new Map:void 0;return(D=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return z(t,arguments,I(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_(r,t)})(t)}function z(t,e,n){return(z=A()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&_(o,n.prototype),o}).apply(null,arguments)}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(s,t);var e,n,r,o,i,a=(e=s,n=A(),function(){var t,r=I(e);if(n){var o=I(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return R(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).shadowDom=t.attachShadow({mode:"closed"}),t.cover=null,t.mediaPlayer=null,t}return r=s,(o=[{key:"connectedCallback",value:function(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.renderShadowDom()}},{key:"playButtonSvg",value:function(){return this.paused?x.a:y.a}},{key:"renderShadowDom",value:function(){var t=this;this.shadowDom.innerHTML='<style type="text/css">\r\n  :host {\r\n    --spacing: calc(10px);\r\n    padding: var(--spacing);\r\n    border-radius: 10px;\r\n    background: #f1f3f4;\r\n    color: #000000;\r\n  }\r\n\r\n  .buttons {\r\n    display: flex;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .button,\r\n  .button.speed .option,\r\n  .button.volume .mute {\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 2.2em;\r\n    height: 2.2em;\r\n    border: 0;\r\n    border-radius: 1.1em;\r\n    background: #f1f3f4;\r\n    font-size: 1em;\r\n    line-height: 2.2em;\r\n    outline: 0;\r\n    transition: all .3s linear;\r\n  }\r\n\r\n  .button:hover,\r\n  .button.speed .option:hover,\r\n  .button.volume .mute:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  a.button {\r\n    color: #000000;\r\n  }\r\n\r\n  .button.invisible {\r\n    flex-shrink: 2;\r\n    background: #f1f3f4 !important;\r\n    cursor: default !important;\r\n  }\r\n\r\n  .button:hover {\r\n    background: #e5e7e8;\r\n  }\r\n\r\n  .button svg {\r\n    height: 1em;\r\n  }\r\n\r\n  .button.rewind svg {\r\n    transform: rotate(45deg) scaleX(-1);\r\n  }\r\n\r\n  .button.skip svg {\r\n    transform: rotate(-45deg);\r\n  }\r\n\r\n  .button.speed:hover {\r\n    width: calc(2.2em * 5);\r\n  }\r\n\r\n  .button.speed .option {\r\n    opacity: 0;\r\n    overflow: hidden;\r\n    width: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  .button.speed .option small {\r\n    font-size: .8em;\r\n  }\r\n\r\n  .button.speed .option.active {\r\n    opacity: 1;\r\n    width: 2.2em;\r\n  }\r\n\r\n  .button.speed:hover .option {\r\n    opacity: 1;\r\n    width: 2.2em;\r\n    background: #e5e7e8;\r\n  }\r\n\r\n  .button.speed:hover .option:not(.active) {\r\n    animation: showSpeedOption .3s linear;\r\n  }\r\n\r\n  .button.speed:hover .option:hover {\r\n    font-weight: bold;\r\n  }\r\n\r\n  .button.volume {\r\n    display: flex;\r\n    align-items: center;\r\n    transition: all .3s linear;\r\n  }\r\n\r\n  .button.volume:hover {\r\n    width: calc(3.8em + 2.2em + 1.1em + .2em);\r\n  }\r\n\r\n  .button.volume:hover .mute {\r\n    background: #e5e7e8;\r\n  }\r\n\r\n  .button.volume .progress {\r\n    opacity: 0;\r\n    width: 0;\r\n    margin-bottom: 0;\r\n    transition: all .3s linear;\r\n  }\r\n\r\n  .button.volume .progress-indicator {\r\n    left: calc(100% - 6px);\r\n  }\r\n\r\n  .button.volume .progress-played {\r\n    width: 100%;\r\n  }\r\n\r\n  .button.volume:not(:hover) .progress-indicator {\r\n    width: 0 !important;\r\n  }\r\n\r\n  .button.volume:not(:hover) .progress-played {\r\n    width: 0 !important;\r\n  }\r\n\r\n  .button.volume:hover .progress {\r\n    opacity: 1;\r\n    width: 3.8em;\r\n    margin-left: 1.1em;\r\n    margin-right: .2em;\r\n  }\r\n\r\n  .control-button-group {\r\n    flex-grow: 1;\r\n    flex-shrink: 1;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .controls {\r\n    display: flex;\r\n    flex-direction: column;\r\n    user-select: none;\r\n  }\r\n\r\n  .progress {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 12px;\r\n    margin-bottom: var(--spacing);\r\n    cursor: pointer;\r\n  }\r\n\r\n  .progress-bar {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 5px;\r\n    background: #c1c2c3;\r\n    border-radius: 3px;\r\n    z-index: 0;\r\n  }\r\n\r\n  .progress-played {\r\n    position: absolute;\r\n    height: 100%;\r\n    background-color: #000000;\r\n    border-radius: 3px;\r\n    z-index: 2;\r\n  }\r\n\r\n  .progress-indicator {\r\n    opacity: 0;\r\n    position: absolute;\r\n    top: -4px;\r\n    left: 6px;\r\n    width: 12px;\r\n    height: 12px;\r\n    margin-left: -6px;\r\n    background: #000000;\r\n    border-radius: 6px;\r\n    box-shadow: rgba(134,134,134,0.5) 0 0 1px;\r\n    z-index: 3;\r\n    transition: opacity .3s linear;\r\n  }\r\n\r\n  .progress:hover .progress-indicator {\r\n    opacity: 1;\r\n  }\r\n\r\n  .timestamps {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  @keyframes showSpeedOption {\r\n    0% {\r\n      opacity: 0;\r\n      width: 0;\r\n    }\r\n    99% {\r\n      opacity: 0;\r\n      width: 2.2em;\r\n    }\r\n    100% {\r\n      opacity: 1;\r\n      width: 2.2em;\r\n    }\r\n  }\r\n</style>\r\n',"cover"===this.mode?this.shadowDom.innerHTML+='<style type="text/css">\r\n  :host {\r\n    width: 380px;\r\n  }\r\n\r\n  .cover {\r\n    display: flex;\r\n    margin-bottom: var(--spacing);\r\n  }\r\n</style>\r\n<div class="cover"></div>\r\n<div class="controls"></div>\r\n':this.shadowDom.innerHTML+='<style type="text/css">\r\n  :host {\r\n    width: 500px;\r\n  }\r\n</style>\r\n<div class="controls"></div>\r\n';var e=this.shadowDom.querySelector.bind(this.shadowDom),n=this.shadowDom.querySelectorAll.bind(this.shadowDom);e(".controls").innerHTML=E,n("button").forEach((function(e){e.tabIndex=-1,e.addEventListener("mousedown",(function(e){e.preventDefault(),t.focus()}))}));var r=e(".button.play"),o=e(".controls > .progress"),i=e(".controls > .progress .progress-indicator"),a=e(".button.volume .progress"),s=e(".button.volume .progress-indicator");if(!this.mediaPlayer){this.mediaPlayer=document.createElement("audio"),this.mediaPlayer.src=this.getAttribute("src"),this.mediaPlayer.addEventListener("loadedmetadata",(function(){e(".timestamp-duration").innerHTML=k(t.duration)})),this.mediaPlayer.addEventListener("timeupdate",(function(){t.cover.currentTime=t.currentTime,e(".timestamp-current").innerHTML=k(t.currentTime);var n=o.getBoundingClientRect(),r=i.getBoundingClientRect(),a=n.width-r.width,s=(t.currentTime/t.duration*100||0)*a/100+r.width/2+"px",c=s;0===t.currentTime?c="0":t.currentTime===t.duration&&(c="100%"),i.style.left=s,e(".progress-played").style.width=c})),this.mediaPlayer.addEventListener("volumechange",(function(){var n=a.getBoundingClientRect(),r=s.getBoundingClientRect(),o=n.width-r.width,i=t.volume*o+r.width/2+"px",c=i;0===t.volume?c="0":1===t.volume&&(c="100%"),s.style.left=i,e(".button.volume .progress-played").style.width=c}));var c=function(){r.innerHTML=t.playButtonSvg()};this.mediaPlayer.addEventListener("play",c),this.mediaPlayer.addEventListener("pause",c)}this.shadowDom.appendChild(this.mediaPlayer);var l=e(".cover");if(!this.cover){var u=l?window.getComputedStyle(l).width:0;this.cover=document.createElement("octopod-cover"),this.cover.imageUrl=this.imageUrl,this.cover.chaptersUrl=this.chaptersUrl,this.cover.style.width=u,this.cover.style.height=u}null==l||l.appendChild(this.cover),r.addEventListener("click",(function(){t.paused?t.mediaPlayer.play():t.mediaPlayer.pause()})),o.addEventListener("click",(function(e){var n=o.getBoundingClientRect(),r=i.getBoundingClientRect(),a=(e.pageX-n.left-r.width/2)/(n.width-r.width)*t.duration;a<0?a=0:a>t.duration&&(a=t.duration),t.currentTime=a})),e(".button.rewind").addEventListener("click",(function(){t.currentTime=t.currentTime-15})),e(".button.skip").addEventListener("click",(function(){t.currentTime=t.currentTime+15})),e(".button.download").setAttribute("href",this.getAttribute("src")),n(".button.speed .option").forEach((function(n){n.addEventListener("click",(function(){t.playbackRate=n.dataset.rate,e(".button.speed .option.active").classList.remove("active"),n.classList.add("active")}))})),a.addEventListener("click",(function(e){var n=a.getBoundingClientRect(),r=s.getBoundingClientRect(),o=(e.pageX-n.left-r.width/2)/(n.width-r.width);o<0?o=0:o>1&&(o=1),t.volume=o}))}},{key:"chaptersUrl",get:function(){return this.getAttribute("chapters")},set:function(t){this.setAttribute("chapters",t)}},{key:"currentTime",get:function(){var t,e;return null!==(t=null===(e=this.mediaPlayer)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},set:function(t){this.mediaPlayer.currentTime=t}},{key:"mode",get:function(){var t;return null!==(t=this.getAttribute("mode"))&&void 0!==t?t:"audio"},set:function(t){return["audio","cover"].includes(t)||console.error("Invalid display mode: ".concat(t)),this.setAttribute("mode",t)}},{key:"duration",get:function(){var t,e;return null!==(t=null===(e=this.mediaPlayer)||void 0===e?void 0:e.duration)&&void 0!==t?t:0}},{key:"imageUrl",get:function(){return this.getAttribute("image")},set:function(t){this.setAttribute("image",t)}},{key:"paused",get:function(){var t,e;return null===(t=null===(e=this.mediaPlayer)||void 0===e?void 0:e.paused)||void 0===t||t}},{key:"playbackRate",get:function(){var t,e;return null!==(t=null===(e=this.mediaPlayer)||void 0===e?void 0:e.playbackRate)&&void 0!==t?t:1},set:function(t){this.mediaPlayer.playbackRate=t}},{key:"volume",get:function(){var t,e;return null!==(t=null===(e=this.mediaPlayer)||void 0===e?void 0:e.volume)&&void 0!==t?t:1},set:function(t){this.mediaPlayer.volume=t}}])&&L(r.prototype,o),i&&L(r,i),s}(D(HTMLElement));customElements.define("octopod-player",B)}]);